<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>I'm Finna Kakalate Some Stuff!</title>
        <!-- My Personalized CSS -->
        <link rel="stylesheet" href="/css/calculator.css">
        <!-- BootStrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    </head>
    <body>
        <h1>Calculator</h1>

        <form id="input">
                <input type="text" id="leftoperand" data-input="left">
                <input type="text" id="operator" data-input="operator">
                <input type="text" id="rightoperand" data-input="right">
        </form>
        
        <div id="row-1" class="btn-group btn-group-justified" role="group" aria-label="label">
            <div class="btn-group" role="group">
                <button id="btn-1" data-number="1" class="number btn btn-default" type="button">1</button>
            </div>
            <div class="btn-group" role="group">
               <button id="btn-2" data-number="2" class="number btn btn-default" type="button">2</button> 
            </div>
            <div class="btn-group" role="group">
                <button id="btn-3" data-number="3"class="number btn btn-default" type="button">3</button>
            </div>
            <div class="btn-group" role="group">
                <button id="btn-+" data-operator="+" class="operator btn btn-default" type="button">+</button>
            </div>
        </div>

        <div id="row-2" class="btn-group btn-group-justified" role="group" aria-label="label">
            <div class="btn-group" role="group">
                <button id="btn-4" data-number="4" class="number btn btn-default" type="button">4</button>
            </div>
            <div class="btn-group" role="group">
               <button id="btn-5" data-number="5" class="number btn btn-default" type="button">5</button> 
            </div>
            <div class="btn-group" role="group">
                <button id="btn-6" data-number="6" class="number btn btn-default" type="button">6</button>
            </div>
            <div class="btn-group" role="group">
                <button id="btn--" data-operator="-" class="operator btn btn-default" type="button">-</button>
            </div>
        </div>
        
        <div id="row-3" class="btn-group btn-group-justified" role="group" aria-label="label">
            <button id="btn-7" data-number="7" class="number">7</button>
            <button id="btn-8" data-number="8" class="number">8</button>
            <button id="btn-9" data-number="9" class="number">9</button>
            <button id="btn-*" data-operator="*" class="operator">*</button>
        </div>
        
        <div id="row-4">
            <button id="btn-C" data-C="C" class="C">C</button>
            <button id="btn-0" data-number="0" class="number">0</button>
            <button id="btn-=" data-equal="=" class="equal">=</button>
            <button id="btn-/" data-operator="/" class="operator">/</button>
        </div>
        
        <script>
            (function(){
                "use strict";
                    // global variables
                    var leftOperand = document.getElementById('leftoperand');
                    var operatorVar = document.getElementById('operator');
                    var rightOperand = document.getElementById('rightoperand');

                    var leftInput = false;
                    var rightInput = false;
                    
                    //number button functionality
                    var numBtn = document.getElementsByClassName('number');

                    var listener = function(event) {
                        var number = this.getAttribute('data-number');
                        if (leftInput == false) {
                            leftOperand.value = (leftOperand.value + number);  
                        } else {
                            rightOperand.value = (rightOperand.value + number);  
                        }  
                    };
                    
                    for (var i= 0; i < numBtn.length; i++){
                        numBtn[i].addEventListener('click', listener, false); 
                    }

                    // operator button functionality
                    var opBtn = document.getElementsByClassName('operator');

                    var listenerOp = function(event) {
                        var operator = this.getAttribute('data-operator');
                        operatorVar.value = operator;
                        if (leftOperand.value != '') {
                            leftInput = true;
                        }
                    };
                    
                    for (var i= 0; i < opBtn.length; i++){
                        opBtn[i].addEventListener('click', listenerOp, false); 
                    }

                    // equal button functionality
                    var equalBtn = document.getElementsByClassName('equal');

                    var listenerEqual = function(event) {
                        var middle = operatorVar.value
                        var equal = this.getAttribute('data-equal');

                        var result = '';

                        if (middle == '+'){
                            result = parseInt(leftOperand.value) + parseInt(rightOperand.value);
                        } else if (middle == '-') {
                            result = parseInt(leftOperand.value) - parseInt(rightOperand.value);
                        } else if (middle == '*') {
                            result = parseInt(leftOperand.value) * parseInt(rightOperand.value);
                        } else if (middle == '/') {
                           result = parseInt(leftOperand.value) / parseInt(rightOperand.value); 
                        }

                        leftOperand.value = result;
                        operatorVar.value = '';
                        rightOperand.value = '';
                    };

                    for (var i= 0; i < equalBtn.length; i++){
                        equalBtn[i].addEventListener('click', listenerEqual, false); 
                    }

                    // C button functionality
                    var cBtn = document.getElementsByClassName('C');

                    var listenerC = function(event) {
                        var c = this.getAttribute('data-C');
                        leftOperand.value = '';
                        operatorVar.value = '';
                        rightOperand.value = '';
                        leftInput = false;
                    }
                    
                    for (var i= 0; i < cBtn.length; i++){
                        cBtn[i].addEventListener('click', listenerC, false); 
                    }      
            })();
        </script>
    </body>
</html>