<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>My Ugly Calculator</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <!-- My Personalized CSS -->
        <link rel="stylesheet" href="/css/calculator.css">
    </head>
    <body>
        <div class="row">
            <div class="col-sm-4">
                
            </div>
            <div class="box col-sm-4">
                <h1>I'm Ugly, but I Work</h1>
                <div class="image">
                     <img src="/img/ugly-dog.jpg" alt="Ugly Dog" class="img-rounded">
                </div>
                    <div class="inner-wrapper">
                        <form id="input">
                            <input type="text" id="leftoperand" data-input="left">
                            <input type="text" id="operator" data-input="operator" >
                            <input type="text" id="rightoperand" data-input="right">
                        </form>
                        <div id="row-1" class="btn-group btn-group-justified" role="group" aria-label="label">
                            <div class="btn-group" role="group">
                                <button id="btn-1" data-number="1" class="number btn btn-default" type="button">1</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-2" data-number="2" class="number btn btn-default" type="button">2</button> 
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-3" data-number="3"class="number btn btn-default" type="button">3</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-+" data-operator="+" class="operator btn btn-default" type="button">+</button>
                            </div>
                        </div>

                        <div id="row-2" class=" btn-group btn-group-justified" role="group" aria-label="label">
                            <div class="btn-group" role="group">
                                <button id="btn-4" data-number="4" class="number btn btn-default" type="button">4</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-5" data-number="5" class="number btn btn-default" type="button">5</button> 
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-6" data-number="6" class="number btn btn-default" type="button">6</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn--" data-operator="-" class="operator btn btn-default" type="button">-</button>
                            </div>
                        </div>
                        
                        <div id="row-3" class=" btn-group btn-group-justified" role="group" aria-label="label">
                            <div class="btn-group" role="group">
                                <button id="btn-7" data-number="7" class="number btn btn-default" type="button">7</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-8" data-number="8" class="number btn btn-default" type="button">8</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-9" data-number="9" class="number btn btn-default" type="button">9</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-*" data-operator="*" class="operator btn btn-default" type="button">*</button>
                            </div>
                        </div>
                        
                        <div id="row-4" class=" btn-group btn-group-justified" role="group" aria-label="label">
                            <div class="btn-group" role="group">
                                <button id="btn-C" data-C="C" class="C btn btn-default" type="button">C</button> 
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-0" data-number="0" class="number btn btn-default" type="button">0</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-/" data-operator="/" class="operator btn btn-default" type="button">/</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="btn-decimal" data-decimal="." class="decimal btn btn-default" type="button">.</button>
                            </div>
                        </div>
                        <div id="row-5" class="btn-group btn-group-justified" role="group" aria-label="label">
                            <div class="btn-group equal-button" role="group">
                                <button id="btn-=" data-equal="=" class="equal btn btn-default" type="button">=</button>
                            </div>
                            <div class="btn-group posneg-button" role="group">
                                <button id="btn-posneg" data-posneg="-" class="pos-neg btn btn-default" type="button">+/-</button>
                            </div>
                            <div class="btn-group sqrt-button" role="group">
                                <button id="btn-sqrt" data-operator="√" class="operator btn btn-default" type="button">√</button>
                            </div>
                        </div>
                    </div>
            </div>
            
            <div class="col-sm-4">
                
            </div>
        </div>
        
        <script>
            (function(){
                "use strict";
                    // global variables
                    var leftOperand = document.getElementById('leftoperand');
                    var operatorVar = document.getElementById('operator');
                    var rightOperand = document.getElementById('rightoperand');

                    var leftInput = false;
                    var rightInput = false;
                    
                    //number button functionality
                    var numBtn = document.getElementsByClassName('number');

                    var listener = function(event) {
                        var number = this.getAttribute('data-number');
                        if (leftInput == false) {
                            leftOperand.value = (leftOperand.value + number);  
                        } else {
                            rightOperand.value = (rightOperand.value + number);  
                        }  
                    };
                    
                    for (var i= 0; i < numBtn.length; i++){
                        numBtn[i].addEventListener('click', listener, false); 
                    }

                    // decimal button functionality
                    var decimal = document.getElementById('btn-decimal');
                    var listenerDecimal = function(event) {
                        var leftOperandHasDecimal = leftOperand.value.indexOf('.') != -1;
                        var rightOperandHasDecimal = rightOperand.value.indexOf('.') != -1;

                        if (leftInput == false && !leftOperandHasDecimal) {
                            leftOperand.value = (leftOperand.value + '.');  
                        } else if (!rightOperandHasDecimal) {
                            rightOperand.value = (rightOperand.value + '.');  
                        } 
                    };
                    
                    decimal.addEventListener('click', listenerDecimal, false); 
            
                       
                    // operator button functionality
                    var opBtn = document.getElementsByClassName('operator');

                    var listenerOp = function(event) {
                        var operator = this.getAttribute('data-operator');
                        operatorVar.value = operator;
                        if (leftOperand.value != '') {
                            leftInput = true;
                        }
                    };
                    
                    for (var i= 0; i < opBtn.length; i++){
                        opBtn[i].addEventListener('click', listenerOp, false); 
                    }

                    // positive/negative button functionality

                    var posNeg = document.getElementById('btn-posneg');
                    var listenerPosNeg = function(event) {
                        var leftOperandIsNegative = leftOperand.value.indexOf('-') != -1;
                        var rightOperandIsNegative = rightOperand.value.indexOf('-') != -1;

                        if (leftInput == false && !leftOperandIsNegative) {
                            leftOperand.value = ('-' + leftOperand.value);  
                        } else if (!rightOperandIsNegative) {
                            rightOperand.value = ('-' + rightOperand.value );  
                        } 
                    };
                    
                    posNeg.addEventListener('click', listenerPosNeg, false); 



                    // equal button functionality
                    var equalBtn = document.getElementsByClassName('equal');

                    var listenerEqual = function(event) {
                        var middle = operatorVar.value
                        var equal = this.getAttribute('data-equal');

                        var result = '';

                        if (middle == '+'){
                            result = parseFloat(leftOperand.value) + parseFloat(rightOperand.value);
                        } else if (middle == '-') {
                            result = parseFloat(leftOperand.value) - parseFloat(rightOperand.value);
                        } else if (middle == '*') {
                            result = parseFloat(leftOperand.value) * parseFloat(rightOperand.value);
                        } else if (middle == '/') {
                           result = parseFloat(leftOperand.value) / parseFloat(rightOperand.value); 
                        } else if (middle == '√') {
                            result = Math.sqrt(leftOperand.value);
                        }

                        leftOperand.value = result;
                        operatorVar.value = '';
                        rightOperand.value = '';
                    };

                    for (var i= 0; i < equalBtn.length; i++){
                        equalBtn[i].addEventListener('click', listenerEqual, false); 
                    }

                    // C button functionality
                    var cBtn = document.getElementsByClassName('C');

                    var listenerC = function(event) {
                        var c = this.getAttribute('data-C');
                        leftOperand.value = '';
                        operatorVar.value = '';
                        rightOperand.value = '';
                        leftInput = false;
                    }
                    
                    for (var i= 0; i < cBtn.length; i++){
                        cBtn[i].addEventListener('click', listenerC, false); 
                    }      
            })();
        </script>
        <!--JQuery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    </body>
</html>